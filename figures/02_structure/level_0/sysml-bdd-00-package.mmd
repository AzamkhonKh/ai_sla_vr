graph TB
    subgraph MundoVR["«system» MundoVR Platform"]
        subgraph VRClient["«package» VR Client Layer"]
            Unity["«component» Unity Application"]
            OnDeviceAI["«component» On-Device AI SDK"]
            VRInterface["«interface» VR Interface"]
        end
        
        subgraph Backend["«package» Backend Services"]
            subgraph CoreServices["«package» Core Services"]
                Auth["«service» Authentication<br/>Port: 8081"]
                Session["«service» Session Management<br/>Port: 8082"]
                Scenario["«service» Scenario Management<br/>Port: 8087"]
            end
            
            subgraph AIServices["«package» AI Services"]
                STT["«service» Speech-to-Text<br/>Port: 8083"]
                Conv["«service» Conversation<br/>Port: 8084"]
                TTS["«service» Text-to-Speech<br/>Port: 8085"]
                Pron["«service» Pronunciation<br/>Port: 8086"]
            end
            
            subgraph SupportServices["«package» Support Services"]
                Analytics["«service» Analytics<br/>Port: 8088"]
                Notif["«service» Notifications<br/>Port: 8089"]
            end
            
            Gateway["«component» API Gateway<br/>Port: 8080"]
        end
        
        subgraph DataLayer["«package» Data Layer"]
            PostgreSQL["«database» PostgreSQL<br/>User, Session, Scenario"]
            Redis["«database» Redis Cluster<br/>Cache, Pub/Sub"]
            Milvus["«database» Milvus<br/>Vector Embeddings"]
        end
    end
    
    subgraph External["«external» External Systems"]
        CloudLLM["«service» Cloud LLM<br/>GPT-4/Claude"]
        K8s["«infrastructure» Kubernetes<br/>AWS EKS"]
    end
    
    Unity --> Gateway
    Gateway --> Auth
    Gateway --> Session
    Gateway --> STT
    Gateway --> Conv
    
    Conv --> CloudLLM
    Auth --> PostgreSQL
    Session --> Redis
    Conv --> Milvus
    Analytics --> PostgreSQL
    Analytics --> Redis
    
    Backend --> K8s
    
    style MundoVR fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    style VRClient fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style Backend fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    style CoreServices fill:#fce4ec,stroke:#c2185b,stroke-width:1px
    style AIServices fill:#e8f5e9,stroke:#388e3c,stroke-width:1px
    style SupportServices fill:#fff9c4,stroke:#f9a825,stroke-width:1px
    style DataLayer fill:#e0f2f1,stroke:#00897b,stroke-width:2px
    style External fill:#eceff1,stroke:#546e7a,stroke-width:2px
